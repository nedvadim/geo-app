(function(t){function e(e){for(var s,o,i=e[0],u=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},r={app:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/geo-app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},1080:function(t,e,n){"use strict";n("c480")},"1bb9":function(t,e,n){"use strict";n("5c11")},2179:function(t,e,n){"use strict";n("4af2")},4629:function(t,e,n){"use strict";n("6f8a")},"4a56":function(t,e,n){},"4af2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("MainWrapper")},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("CustomCard",{staticClass:"custom-card"},[n("IpAddressSection"),n("ResultsTableSection"),n("HistoryTableSection")],1)],1)},i=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("h1",{staticClass:"header-title"},[t._v("GeoIP")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.$i18n.locale,expression:"$i18n.locale"}],staticClass:"header-dropdown",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$i18n,"locale",e.target.multiple?n:n[0])}}},t._l(t.localisationOptions,(function(e,s){return n("option",{key:s,domProps:{value:e.value}},[t._v(t._s(e.label))])})),0)])},c=[],l={name:"Header",data:function(){return{}},watch:{"$i18n.locale":{handler:function(t){this.$store.commit("SET_LOCALE",t)}}},computed:{localisationOptions:function(){return this.$store.getters.getLangOptions}}},d=l,p=(n("2179"),n("2877")),f=Object(p["a"])(d,u,c,!1,null,"d6e92dd6",null),m=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"custom-card"},[t._t("default")],2)},y=[],b={name:"CustomCard"},v=b,g=(n("e397"),Object(p["a"])(v,h,y,!1,null,"47d16d2f",null)),C=g.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ip-section"},[n("p",{staticClass:"section-label"},[t._v(t._s(t.$t("ipAddress")))]),n("CustomInput",{staticClass:"ip-section-input",attrs:{"is-error":t.isError},model:{value:t.ip,callback:function(e){t.ip=e},expression:"ip"}}),n("CustomButton",{staticClass:"ip-section-button",on:{click:t.handleIp}},[t._v(t._s(t.$t("getInformation")))])],1)},R=[],O=(n("99af"),n("b0c0"),n("b680"),n("96cf"),n("1da1")),$=n("8785"),E=n("9530"),S=n.n(E),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input-mask",{staticClass:"input-styling",class:{error:t.isError},attrs:{mask:"999.999.99.99",maskChar:" ",placeholder:"000.000.00.00","always-show-mask":!1,value:t.value},on:{input:t.handleInput}})],1)},w=[],A={name:"CustomInput",props:{placeholder:{type:String,default:"Placeholder"},label:{type:String,default:"Label"},value:{type:String},isError:{type:Boolean}},methods:{handleInput:function(t){this.$emit("input",t)}}},T=A,x=(n("7a25"),Object(p["a"])(T,j,w,!1,null,"53544519",null)),H=x.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",t._g({staticClass:"button",class:{disabled:t.disabled,"primary-red":!t.disabled}},t.listeners),[t._t("default")],2)},k=[],D=n("5530"),L={name:"CustomButton",props:{disabled:{type:Boolean,default:!1}},computed:{listeners:function(){return Object(D["a"])({},this.$listeners)}}},P=L,Z=(n("a485"),Object(p["a"])(P,I,k,!1,null,"df41e88e",null)),B=Z.exports;function M(){var t=Object($["a"])(["query getIp($dynamicIp: String!) {\n                    ipAddress(address: $dynamicIp) {\n                        city {\n                          name\n                          location {\n                            long\n                            lat\n                          }\n                          timeZone {\n                            name\n                          }\n                          continent {\n                            name\n                          }\n                        }\n                        country {\n                          name\n                          alpha2Code\n                        }\n                    }\n                }"]);return M=function(){return t},t}var U={name:"IpAddressSection",components:{CustomInput:H,CustomButton:B},data:function(){return{ip:"",ipAddress:"",isError:!1,resultsData:{ipAddress:"",continent:"",country:"",city:"",timeZone:"",coordinates:""}}},apollo:{ipAddress:{query:S()(M()),errorPolicy:"ignore",variables:{dynamicIp:""}}},methods:{handleIp:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$apollo.queries.ipAddress.refetch({dynamicIp:t.ip});case 3:n=e.sent,t.isError=!1,t.initResults(n),t.updateStore(),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),t.isError=!0,console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},initResults:function(t){var e=t.data.ipAddress.city,n=t.data.ipAddress.country;this.resultsData.country=n?"".concat(n.name||"-"," / ").concat(n.alpha2Code||"-"):"-",e?(this.resultsData.city=e.name,this.resultsData.timeZone=e.timeZone?e.timeZone.name:"-",this.resultsData.coordinates=e.location?"".concat(e.location.long.toFixed(1),"/").concat(e.location.lat.toFixed(1)):"-",this.resultsData.continent=e.continent?e.continent.name:"-"):(this.resultsData.city="-",this.results.timeZone="-",this.resultsData.coordinates="-",this.resultsData.continent="-"),this.resultsData.ipAddress=this.ip},updateStore:function(){this.$store.dispatch("setResults",this.resultsData)}}},q=U,N=(n("f37f"),Object(p["a"])(q,_,R,!1,null,"72f21fd6",null)),Y=N.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"results-section"},[n("p",{staticClass:"section-label"},[t._v(t._s(t.$t("results")))]),n("CustomTable",{attrs:{dataset:t.dataset}})],1)},F=[],G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("table",{staticClass:"table"},[n("tr",{staticClass:"table-header"},t._l(t.headers,(function(e){return n("th",{key:e},[t._v(" "+t._s(e)+" ")])})),0),t._l(t.dataset,(function(e,s){return n("tr",{key:s},t._l(e,(function(e,s){return n("td",{key:s},[t._v(" "+t._s(e)+" ")])})),0)}))],2)])},J=[],z=(n("d81d"),n("b64b"),{name:"CustomTable",props:{dataset:{type:Array}},computed:{headers:function(){var t=this;return Object.keys(this.dataset[0]).map((function(e){return t.$t(e)}))}}}),K=z,Q=(n("4629"),Object(p["a"])(K,G,J,!1,null,"61fe9b27",null)),V=Q.exports,X={name:"ResultsTableSection",components:{CustomTable:V},computed:{dataset:function(){var t=this.$store.getters.getCurrentResult,e=this.$store.getters.getDefaultCurrentResult;return t.length?t:e},locale:function(){return this.$store.getters.getLang}}},tt=X,et=(n("1080"),Object(p["a"])(tt,W,F,!1,null,"4177841f",null)),nt=et.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"history-section"},[n("p",{staticClass:"section-label"},[t._v(t._s(t.$t("history")))]),n("CustomTable",{staticClass:"history-section-table",attrs:{dataset:t.dataset}}),n("CustomButton",{staticClass:"clear-history-button",attrs:{disabled:t.noHistory},on:{click:t.clearHistory}},[t._v(t._s(t.$t("clearHistory")))])],1)},rt=[],at={name:"HistoryTableSection",components:{CustomTable:V,CustomButton:B},computed:{dataset:function(){var t=this.$store.getters.getHistoryResults,e=this.$store.getters.getDefaultHistoryResults;return t.length?t:e},noHistory:function(){return!this.$store.getters.getHistoryResults.length}},methods:{clearHistory:function(){this.$store.commit("CLEAR_HISTORY")}}},ot=at,it=(n("1bb9"),Object(p["a"])(ot,st,rt,!1,null,"7a2ac071",null)),ut=it.exports,ct={name:"MainWrapper",components:{Header:m,CustomCard:C,IpAddressSection:Y,ResultsTableSection:nt,HistoryTableSection:ut}},lt=ct,dt=(n("f972"),Object(p["a"])(lt,o,i,!1,null,"1865fd99",null)),pt=dt.exports,ft={name:"App",components:{MainWrapper:pt}},mt=ft,ht=(n("034f"),Object(p["a"])(mt,r,a,!1,null,null,null)),yt=ht.exports,bt=n("522d"),vt=n("efe7");s["a"].use(bt["a"]);var gt="apollo-token",Ct="http://api.everbase.co/graphql?apikey=a4cc7aa7-6f28-4eb7-a23e-10f76e894531",_t={httpEndpoint:Ct,wsEndpoint:null,tokenName:gt,persisting:!1,websocketsOnly:!1,ssr:!1};function Rt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(vt["createApolloClient"])(Object(D["a"])(Object(D["a"])({},_t),t)),n=e.apolloClient,s=e.wsClient;n.wsClient=s;var r=new bt["a"]({defaultClient:n,defaultOptions:{$query:{}},errorHandler:function(t){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",t.message)}});return r}var Ot=n("2f62"),$t={state:{lang:"en",langOptions:[{label:"EN",value:"en"},{label:"RU",value:"ru"}]},getters:{getLang:function(t){return t.lang},getLangOptions:function(t){return t.langOptions}},mutations:{SET_LOCALE:function(t,e){t.lang=e}}},Et=$t,St=n("2909"),jt={state:{currentResult:[],historyResults:[],defaultCurrentResult:[{ipAddress:"000.000.00.00",continent:"",country:"",city:"",timeZone:"",coordinates:""}],defaultHistoryResults:[{ipAddress:"000.000.00.00",country:"",city:""}]},getters:{getCurrentResult:function(t){return t.currentResult},getDefaultCurrentResult:function(t){return t.defaultCurrentResult},getHistoryResults:function(t){return t.historyResults},getDefaultHistoryResults:function(t){return t.defaultHistoryResults}},mutations:{SET_CURRENT_RESULT:function(t,e){t.currentResult=[Object(D["a"])({},e)]},ADD_HISTORY_RESULT:function(t,e){t.historyResults=[].concat(Object(St["a"])(t.historyResults),[Object(D["a"])({},e)])},CLEAR_HISTORY:function(t){t.historyResults=[]}},actions:{setResults:function(t,e){var n=t.commit,s=e.ipAddress,r=e.continent,a=e.country,o=e.city,i=e.timeZone,u=e.coordinates,c={ipAddress:s,continent:r,country:a,city:o,timeZone:i,coordinates:u},l={ipAddress:s,country:a,city:o};n("SET_CURRENT_RESULT",c),n("ADD_HISTORY_RESULT",l)}}},wt=jt;s["a"].use(Ot["a"]);var At=new Ot["a"].Store({modules:{locale:Et,results:wt}}),Tt=At,xt=n("a925"),Ht={ipAddress:"IP Аddress",results:"Results",history:"History",continent:"Continent/code",country:"Country/code",city:"City",timeZone:"Time zone",coordinates:"Coordinates",clearHistory:"Clear history",getInformation:"Get information"},It={ipAddress:"IP Адрес",results:"Результаты",history:"История",continent:"Континент/код континенты",country:"Страна/код страны",city:"Город",timeZone:"Часовой пояс",coordinates:"Координаты",clearHistory:"Очистить историю",getInformation:"Получить информацию"};s["a"].use(xt["a"]);var kt={en:Ht,ru:It},Dt=new xt["a"]({locale:Tt.state.locale.lang||"en",messages:kt}),Lt=Dt,Pt=n("f65f"),Zt=n.n(Pt);s["a"].config.productionTip=!1,s["a"].component("input-mask",Zt.a),new s["a"]({apolloProvider:Rt(),store:Tt,i18n:Lt,render:function(t){return t(yt)}}).$mount("#app")},"5c11":function(t,e,n){},"664f":function(t,e,n){},"6f8a":function(t,e,n){},"7a25":function(t,e,n){"use strict";n("664f")},"85ec":function(t,e,n){},"8cff":function(t,e,n){},a485:function(t,e,n){"use strict";n("4a56")},bada:function(t,e,n){},c480:function(t,e,n){},d14f:function(t,e,n){},e397:function(t,e,n){"use strict";n("bada")},f37f:function(t,e,n){"use strict";n("8cff")},f972:function(t,e,n){"use strict";n("d14f")}});
//# sourceMappingURL=app.8ec79867.js.map